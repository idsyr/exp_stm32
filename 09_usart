LL_AHB1_GRP_EnableClock(LL_AHB1_GRP1_PERIOH_GPIOA);

LL_GPIO_SetPinMode(GPIOA, LL_GPIO_PIN_9, LL_GPIO_MODE_ALTERNATE);
LL_GPIO_SetAFPin_8_15(GPIOA, LL_GPIO_PIN_9, LL_GPIO_AF_1);
LL_GPIO_SetPinSpeed(GPIOA, LL_GPIO_PIN_9, LL_GPIO_SPEED_FREQ_HIGH);

//for pin10 also

LL_APB1_GRP2_EnableClock(LL_APB1_GRP2_PERIIPH_USART1);
LL_RCC_SetUSARTClockSource(LL_RCC_USART1_CLKSOURCE_PCLK1);

LL_USART_SetTransfeerDirection(USART1, LL_USART_DIRECTION_TX_RX); //<-->
LL_USART_SetParity(USART1, LL_USART_PARITY_NONE); 
LL_USART_SetDataWidth(USART1, LL_USART_DATAWIDTH_8B);
LL_USART_SetStopBitsLength(USART1, LL_USART_STOPBITS_1);
LL_USART_SetBauRate(USART1, SystemCoreClock, LL_USART_OVERSAMPLING_16, 115200);
LL_USART_EnableIT_IDLE(USART1);
LL_USART_EnableIT_RXNE(USART1); 

LL_USART_Enable(USART1);
while(!(LL_USART_IsActiveFlag_TEACK(USART1) && (LL_USART_IsActiveFlag_REACK)));

NVIC_SetPriorety(USART1_TRQn, 0);
NVIC_EnableIRQ(USART1_IRQn);
